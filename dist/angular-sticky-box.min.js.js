/*!
 * angular-sticky-box
 * https://github.com/pcassis/angular-sticky-box
 * Version: 0.0.1 - 2016-01-24T11:21:39.987Z
 * License: MIT
 */
"use strict";angular.module("angular-sticky-box",[]).directive("stickyBox",function(e){function t(e,t){if(e.innerHeight=t.children[0].offsetHeight,e.innerHeight>=t.offsetHeight)return void(e.enabled=!1);e.enabled=!0;var i=t;for(e.wrapTop=t.offsetTop;i.offsetParent;)e.wrapTop+=i.offsetParent.offsetTop,i=i.offsetParent;e.wrapBottom=t.offsetHeight+e.wrapTop,o=window.innerHeight||document.documentElement.clientHeight,e.innerHeight>o?(e.sizeClass="sticky-inner-big",t.children[0].className=e.sizeClass+" "+e.posClass):(e.sizeClass="sticky-inner-small",t.children[0].className=e.sizeClass+" "+e.posClass),t.children[0].style.width=t.offsetWidth+"px",s(e,t)}function s(e,t){var s,i;e.enabled&&(window.pageYOffset+e.cfg.offset>e.wrapTop?-1==t.className.indexOf("sticky-fix")&&(t.className+=" sticky-fix"):-1!=t.className.indexOf(" sticky-fix")&&(t.className=t.className.replace(" sticky-fix","")),"sticky-inner-big"==e.sizeClass?(e.posClass="",s=parseInt(t.children[0].style.bottom),window.pageYOffset+o>e.wrapBottom?(e.posClass="down",i=window.pageYOffset+o-e.wrapBottom,t.children[0].style.bottom=i+"px"):window.pageYOffset+e.cfg.offset<e.wrapTop?t.children[0].style.bottom=0:window.pageYOffset>e.pageY?window.pageYOffset+o>e.wrapTop+e.innerHeight&&(0>s&&s-e.pageY+window.pageYOffset<0?t.children[0].style.bottom=s-e.pageY+window.pageYOffset+"px":t.children[0].style.bottom="0",e.posClass="down"):(e.posClass="up",e.innerHeight+s+e.cfg.offset>o&&(e.innerHeight+s-o-e.cfg.offset<0?t.children[0].style.bottom=o-e.innerHeight-e.cfg.offset+"px":t.children[0].style.bottom=s-e.pageY+window.pageYOffset+"px"))):window.pageYOffset+e.innerHeight+e.cfg.offset>e.wrapBottom?(e.posClass="bottom",i=window.pageYOffset+o-e.wrapBottom,t.children[0].style.bottom=i+"px",t.children[0].scrollTop=i,t.children[0].style.top="auto"):(t.children[0].style.top=e.cfg.offset+"px",e.posClass=""),t.children[0].className=e.sizeClass+" "+e.posClass,e.pageY=window.pageYOffset)}var o;return{restrict:"A",scope:{offset:"@stickyBoxOffset"},link:function(o,i){function n(){t(o,a)}var a=i[0];a.className+=" sticky-box",o.cfg={},o.offset?o.cfg.offset=parseInt(o.offset):o.cfg.offset=0,angular.element(window).on("resize",n),angular.element(window).on("scroll",function(){s(o,a)}),o.$on("stickyBoxUpdate",function(){e(n,100)}),e(n,100)}}}),angular.module("angular-sticky-box").run(["$templateCache",function(e){e.put("angular-sticky-box.html",'<div class="angular-sticky-box"><div>The value is {{getValue()}}</div><button ng-click="increment()">+</button></div>')}]);